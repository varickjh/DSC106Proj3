<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Glucose Visualization</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <h2>Average Glucose Peaks by Participant</h2>

  <div class="controls" style="margin-bottom: 20px;">
    <strong>Select Nutrients:</strong><br>
    <label><input type="checkbox" class="nutrient" value="protein"> Protein</label>
    <label><input type="checkbox" class="nutrient" value="sugar"> Sugar</label>
    <label><input type="checkbox" class="nutrient" value="total_carb"> Carbs</label>
    <label><input type="checkbox" class="nutrient" value="total_fat"> Fat</label>
    <label><input type="checkbox" class="nutrient" value="dietary_fiber"> Fiber</label>

    <br><br>
    <label><strong>Filter by Gender:</strong>
      <select id="genderSelect">
        <option value="all">All</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </label>

    <br><br>
    <button id="sortBtn">Sort by Glucose</button>
    <br><br>
    <label for="thresholdInput"><strong>Glucose Alert Threshold:</strong></label>
    <input type="number" id="thresholdInput" value="140" min="0" max="300" step="1">

  </div>

  <div class="chart-wrapper">
    <svg id="chart" width="960" height="500"></svg>
  </div>  

  <div id="tooltip" class="tooltip" style="
    position: absolute;
    text-align: left;
    padding: 8px;
    font-size: 13px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    pointer-events: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    opacity: 0;
  "></div>

  <div id ="writeup" style="margin-top: 20px;">
    <h3>Design Rationale</h3>

    <h3>An Overview of the Development Process</h3>
    <p>EDA on that dataset. Since Rayyan had experience using a Dexcom, we understood the BIG IDEAs Lab Glycemic Variability 
      and Wearable Device Data the best and decided that was the dataset we wanted to use. Ravi did EDA on the Food Logs of 
      each participant, while Rayyan did EDA on the Dexcom data of each participant. 
      Varick did EDA on the relationship between the food participants ate and their glucose levels. </p>
    <p>We decided to use the Dexcom data and the food logs of each participant to see if there was a correlation between the
      food they ate and their glucose levels. We used the Dexcom data to find the average glucose levels of each participant 
      and then used the food logs to find the average amount of protein, sugar, carbs, fat, and fiber each participant ate. 
      We then used this data to create a bar chart that shows the average glucose levels of each participant and the average 
      amount of protein, sugar, carbs, fat, and fiber they ate.</p>
    <p>We brainstormed and ideated the interactive visualization that we wanted together as a team, taking us around 4-5 hours 
      to finally decide on an interactive idea that filled the filter, connect, reconfigure, and elaborate aspects of interactive 
      visualizations covered by Prof. Lau in class. It took us a long time to ideate because we had ideas that weren't supported by 
      our dataset, either because of missing data or the nature of the dataset itself, so there were many times that we had to reset 
      back to square one. </p>
    <p>After getting through the aspect that took the most time, our interactive visualization consisted of two main parts: the main bar 
      chart, and the other components, including the dropdown menus that allowed the user to customize the food features they wanted to 
      display, a sort by y-axis value button, and filtering by gender. The overall process took 3-4 hours. Varick worked on developing the 
      components, while Ravi worked on initial prototypes of the bar chart. Then, with both of those done, Rayyan linked it to our dataset 
      and made sure the filtering process was working. With those delegations, we managed to develop our interactive visualization efficiently.</p>
  <script src="main.js"></script>
</body>
</html>
